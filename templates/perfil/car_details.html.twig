<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ asset('css/perfilStyle.css') }}">
    <title>Detalles del Coche</title>
     <link rel="stylesheet" href="{{ asset('css/editorStyle.css') }}">
</head>
<body>
<script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
        "GLTFLoader": "https://unpkg.com/three@0.150.1/examples/jsm/loaders/GLTFLoader.js",
        "FBXLoader": "https://unpkg.com/three@0.150.1/examples/jsm/loaders/FBXLoader.js",
        "OrbitControls": "https://unpkg.com/three@0.150.1/examples/jsm/controls/OrbitControls.js"
      }
    }
    let garage;
      const loader = new GLTFLoader();
      loader.load('/models/garage.glb', (gltf) => {
        garage = gltf.scene;
        scene.add(garage);
      });
    </script>
    
    <div class="container">
        <div class="top">
            <div class="top-left fancy">
                <h2>{{ car.modelo }}</h2>
            </div>
            <div class="top-right">
                <h3>Detalles del {{ selectedType == 'motor' ? 'Motor' : 'Pieza' }}</h3>
                {% if selectedType == 'motor' and selectedMotor %}
                    <p>Caballos: {{ selectedMotor.caballos }}</p>
                    <p>Par Máximo: {{ selectedMotor.parMaximo }}</p>
                    <p>Cuarto de Milla: {{ selectedMotor.cuartoMilla }}</p>
                {% elseif selectedType == 'pieza' and selectedPieza %}
                    <p>Nombre: {{ selectedPieza.nombre }}</p>
                    <p>Descripción: {{ selectedPieza.descripcion }}</p>
                {% else %}
                    <p>Selecciona un motor o pieza para ver los detalles.</p>
                {% endif %}
            </div>
        </div>
        <div class="middle">
            <button onclick="window.location.href='?type=motor'" class="button-48"><span class="text">Motor</span></button>
            <button onclick="window.location.href='?type=pieza'" class="button-48"><span class="text">Pieza</span></button>
        </div>
        <div class="bottom">
            {% for item in items %}
                <div class="bottom-item">
                    <a href="?type={{ selectedType }}&id={{ item.id }}">
                        {{ selectedType == 'motor' ? 'Motor ' ~ item.id : item.nombre }}
                    </a>
                </div>
            {% else %}
                <p>No hay {{ selectedType }}s disponibles.</p>
            {% endfor %}
        </div>
    </div>
</body>
</html>
